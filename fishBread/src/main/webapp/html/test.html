<!DOCTYPE html>
<html>

<head>
    <title>가게 검색 페이지</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="/resources/assets/css/searchbar.css">
    <link rel="stylesheet" href="/resources/assets/css/searchvalue.css">
    <link rel="stylesheet" href="/resources/assets/css/pagination.css">

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>

    <custom:header />

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
        </script>

    <div class="container">
        <!-- container01 : 1행 1열-->
        <div class="row">
            <div class="col-12">
                <!-- 검색창 -->
                <form action="filterSearchStore.do">
                    <div class="container">
                        <!-- container02 : 1행-->
                        <!-- 가게명 검색 -->
                        <div class="row align-items-center row-gap">
                            <!-- container02 : 1행 1열-->
                            <div class="col-sm-2 col-md-2">
                                <div class="category" id="categoryName">가게명 검색</div>
                            </div>
                            <!-- container02 : 1행 2열-->
                            <div class="col-10 col-md-10">
                                <div class="search-input">
                                    <img src="resources/assets/images/search_icon.png" alt="검색창 아이콘 이미지" width="40px"
                                        height="40px">
                                    <input type="text" name="storeName" placeholder="검색어를 입력해주세요.">
                                    <input type="submit" value="검색">
                                </div>
                            </div>
                        </div>

                        <!-- 필터 조건들 출력 부분 -->
                        <div class="row align-items-center row-gap">
                            <div class="col-sm-2 col-md-2">
                                <!-- 필터 조건들을 2번째 열에 출력하기 위한 빈 공간 -->
                            </div>
                            <div class="col-10 col-md-10">
                                <span class="filterOption">안녕<button class="filter-button">X</button></span>
                                <hr>
                            </div>
                        </div>

                        <!-- 가게 메뉴 -->
                        <div class="row align-items-center row-gap">
                            <div class="col-sm-2 col-md-2">
                                <div class="category" id="categoryMenu">가게 메뉴</div>
                            </div>
                            <div class="col-10 col-md-10">
                                <div class="row">
                                    <!-- 1. 팥/슈크림 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storeMenu"
                                                    value="팥/슈크림" id="num1-pot">
                                                <span class="checkmark hover-text">팥 / 슈크림 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                    <!-- 2. 야채/김치/만두 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storeMenu"
                                                    value="야채/김치/만두" id="num1-pot">
                                                <span class="checkmark hover-text">야채/김치/만두 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                    <!-- 3. 미니 붕어빵 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storeMenu"
                                                    value="미니" id="num1-pot">
                                                <span class="checkmark hover-text">미니 붕어빵 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                    <!-- 4. 고구마 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storeMenu"
                                                    value="고구마" id="num1-pot">
                                                <span class="checkmark hover-text">고구마 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                    <!-- 5. 아이스크림/초코 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storeMenu"
                                                    value="아이스크림/초코" id="num1-pot">
                                                <span class="checkmark hover-text">아이스크림/초코 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                    <!-- 6. 치즈 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storeMenu"
                                                    value="치즈" id="num1-pot">
                                                <span class="checkmark hover-text">치즈 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                    <!-- 7. 패스츄리 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storeMenu"
                                                    value="패스츄리" id="num1-pot">
                                                <span class="checkmark hover-text">패스츄리 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                    <!-- 8.기타 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storeMenu"
                                                    value="기타" id="num1-pot">
                                                <span class="checkmark hover-text">기타 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 결제방법 -->
                        <div class="row align-items-center row-gap">
                            <div class="col-sm-2 col-md-2">
                                <div class="category" id="categoryPayment">결제 방법</div>
                            </div>
                            <div class="col-10 col-md-10">
                                <div class="row">
                                    <!-- 1. 현금결제 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storePayment"
                                                    value="현금결제" id="num1-pot">
                                                <span class="checkmark hover-text">현금결제 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                    <!-- 2. 카드결제 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storePayment"
                                                    value="카드결제" id="num1-pot">
                                                <span class="checkmark hover-text">카드결제 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                    <!-- 3. 계좌이체 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storePayment"
                                                    value="계좌이체" id="num1-pot">
                                                <span class="checkmark hover-text">계좌이체 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 운영상태 -->
                        <div class="row align-items-center row-gap">
                            <div class="col-sm-2 col-md-2">
                                <div class="category" id="categoryState">운영 상태</div>
                            </div>
                            <div class="col-10 col-md-10">
                                <div class="row">
                                    <!-- 가게 운영 상태 -->
                                    <div class="col-3">
                                        <section>
                                            <label class="custom-checkbox"> <input type="checkbox" name="storePayment"
                                                    value="현금결제" id="num1-pot">
                                                <span class="checkmark hover-text">영업중인 가게 (0)</span>
                                            </label>
                                        </section>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <hr>
        </div>

        <!-- container01 : 2행 1열-->
        <div class="row">
            <div class="col-12">
                <!-- 검색 결과 출력 부분-->
                <div class="search-value">
                    <div class="container">
                        <div class="row align-items-center">
                            <div class="col-4 col-md-4 justify-content-center"> <!-- 첫 번째 열 -->
                                <div class="map">
                                    <!-- 임시로 넣어놓음 -->
                                    <img class="map-value" src="resources\assets\images\map_sample.png" alt="맵 이미지">
                                </div>
                            </div>
                            <div class="col-8 col-md-8"> <!-- 두 번째 열 -->
                                <div class="store-list">
                                    <!-- 후에 for문으로 작성 -->
                                    <div class="store-data">
                                        <div class="store-data-title">
                                            <h4>${store.name}</h4>
                                        </div>
                                        <div class="store-data-content">
                                            <img class="icon" src="resources\assets\images\address_icon.png"
                                                alt="주소 아이콘">
                                            <span>${store.address} <br> ${store.detail.address}</span>
                                            <button class="copy" id="copy">복사</button>
                                        </div>
                                        <div class="store-data-content">
                                            <img class="icon" src="resources\assets\images\address_icon.png"
                                                alt="전화번호 아이콘">
                                            <span>${store.phone}</span>
                                            <button class="copy" id="copy">복사</button>
                                        </div>
                                    </div>
                                    <!-- sample -->
                                    <div class="store-data">
                                        <div class="store-data-title">
                                            <h4>${store.name}</h4>
                                        </div>
                                        <div class="store-data-content">
                                            <img class="icon" src="resources\assets\images\address_icon.png"
                                                alt="주소 아이콘">
                                            <span>${store.address} <br> ${store.detail.address}</span>
                                            <button class="copy" id="copy">복사</button>
                                        </div>
                                        <div class="store-data-content">
                                            <img class="icon" src="resources\assets\images\address_icon.png"
                                                alt="전화번호 아이콘">
                                            <span>${store.phone}</span>
                                            <button class="copy" id="copy">복사</button>
                                        </div>
                                    </div>
                                    <div class="store-data">
                                        <div class="store-data-title">
                                            <h4>${store.name}</h4>
                                        </div>
                                        <div class="store-data-content">
                                            <img class="icon" src="resources\assets\images\address_icon.png"
                                                alt="주소 아이콘">
                                            <span>${store.address} <br> ${store.detail.address}</span>
                                            <button class="copy" id="copy">복사</button>
                                        </div>
                                        <div class="store-data-content">
                                            <img class="icon" src="resources\assets\images\address_icon.png"
                                                alt="전화번호 아이콘">
                                            <span>${store.phone}</span>
                                            <button class="copy" id="copy">복사</button>
                                        </div>
                                    </div>
                                    <div class="store-data">
                                        <div class="store-data-title">
                                            <h4>${store.name}</h4>
                                        </div>
                                        <div class="store-data-content">
                                            <img class="icon" src="resources\assets\images\address_icon.png"
                                                alt="주소 아이콘">
                                            <span>${store.address} <br> ${store.detail.address}</span>
                                            <button class="copy" id="copy">복사</button>
                                        </div>
                                        <div class="store-data-content">
                                            <img class="icon" src="resources\assets\images\address_icon.png"
                                                alt="전화번호 아이콘">
                                            <span>${store.phone}</span>
                                            <button class="copy" id="copy">복사</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

        <!-- container01 : 3행 1열 -->
        <div class="row">
            <div class="col-12">
                <!-- 페이지네이션 -->
                <section id="pagination">
                    <div class="pagination">
                        <!-- 이전 페이지 버튼 -->
                        <c:if test="${currentPage > 1}">
                            <a href="?page=${currentPage - 1}&storeName=${param.storeName != null ? param.storeName : ''}"
                                id="pagenationPreValue">&laquo; 이전</a>
                        </c:if>

                        <c:set var="startPage" value="${currentPage - 5}" />
                        <c:set var="endPage" value="${currentPage + 4}" />

                        <c:if test="${startPage < 1}">
                            <c:set var="startPage" value="1" />
                        </c:if>
                        <c:if test="${endPage > totalPages}">
                            <c:set var="endPage" value="${totalPages}" />
                        </c:if>

                        <c:forEach var="i" begin="${startPage}" end="${endPage}">
                            <c:choose>
                                <c:when test="${i == currentPage}">
                                    <strong>${i}</strong>
                                </c:when>
                                <c:otherwise>
                                    <a href="?page=${i}&storeName=${param.storeName != null ? param.storeName : ''}"
                                        id="pagenationValue">${i}</a>
                                </c:otherwise>
                            </c:choose>
                        </c:forEach>

                        <c:if test="${currentPage < totalPages}">
                            <a href="?page=${currentPage + 1}&storeName=${param.storeName != null ? param.storeName : ''}"
                                id="pagenationNextValue">다음 &raquo;</a>
                        </c:if>
                    </div>
                </section>
                <!-- 페이지네이션 종료 -->
            </div>
        </div>
    </div>

</body>

</html>